library(shiny)
library(ggvis)
library(pander)
library(markdown)
library(stringr)

data.catheter <-
    data.frame(name=c("Tennenberg", "Maki", "vanHeerden", "Hannan", "Bach(b)", "Heard", 
                   "Collins", "Ciresi", "Ramsay", "Trazzera", "George"),
               est = c(-1.51871894676922, -0.71368766866095, 
               -1.32175583998232, -0.191055236762709, -2.20051947323307, -0.505746078022692, 
               -2.3538783873816, -0.364381024738289, -0.537142932083364, -0.76080582903376, 
               -2.14006616349627),
               se = c(0.415754128670564, 0.263254997618808, 
               0.673918887305191, 0.372778769268795, 0.762346981317281, 0.230616853114057, 
               0.747789139056745, 0.364546277551247, 0.229183883650776, 0.356154172223945, 
               0.519048903963665))

data.magnesium <- with(list(rt=c( 1,  9,  2, 1, 10, 1, 1,  90),
                            nt=c(40,135,200,48,150,59,25,1150),   
                            rc=c( 2, 23,  7, 1,  8, 9, 3, 118),      
                            nc=c(36,135,200,46,148,56,23,1150)
                            ),
                       data.frame(name = c("Morton","Rasmussen","Smith","Abraham","Feldstedt","Shechter","Ceremuzynski","LIMIT-2"),
                                  est = log((rt/nt)/(rc/nc)),
                                  se = sqrt(1/rt + 1/rc - 1/nt - 1/nc)
                                  ))

data.aspirin <- data.frame(name = 1:63, est = c(1.652923, 0.890315, 0.661615, 
2.065889, 0.788457, 0.900659, 2.106553, 1.904667, 1.415102, 1.198696, 
1.876539, 1.756063, 1.496421, 0.756621, 0.763916, 0.756621, 0.801835, 
2.413251, 1.304778, 0.672467, 0.707631, 2.359916, 4.076443, 3.981662, 
1.851245, 1.227255, 0.764797, 1.281459, 0.939947, 3.25952, 2.301135, 
0.955511, 1.481494, 2.628073, 1.145854, 1.108228, 1.686399, 1.481494, 
0.993823, 0.380222, 0.759221, 0.749333, 2.749378, 1.272245, 1.105794, 
1.652054, 1.341174, 3.300763, 1.191362, 1.040609, 1.30274, 0.917185, 
3.937899, 1.985915, 0.933156, 0.940827, 1.719137, 0.140982, 2.275696, 
3.066145, 2.111498, 2.055435, 2.413847), se = c(0.4884997, 0.6873449, 
0.2740949, 0.8562611, 0.5848829, 0.5273272, 0.9204727, 0.943228, 
0.4202166, 0.4950929, 0.7863568, 0.5954897, 0.5618683, 0.485304, 
0.5641356, 0.485304, 0.4435944, 0.7255088, 0.6049653, 0.5275149, 
0.4515617, 0.6881504, 1.4714714, 1.4704958, 0.7760844, 0.4872823, 
0.6124361, 0.4175069, 0.7299521, 1.4655965, 0.6310285, 0.5326002, 
0.6571803, 1.4913212, 0.6709106, 0.6677851, 0.6497122, 0.6571803, 
0.5843449, 0.5521666, 0.6337523, 0.4774599, 1.4833122, 0.4751252, 
0.8089574, 0.9461644, 0.9792211, 0.8584183, 0.5625762, 0.5701535, 
0.684258, 0.5735495, 1.4456158, 0.925676, 0.4511696, 0.5656253, 
0.9246405, 0.5312786, 1.5168302, 1.4752654, 0.5693224, 0.6243565, 
0.5676971))

data.symmetric <- data.frame(name = 1:13,
                             est = c(-3, -2.5, -2, -1.5, -1, -0.5, 
                             0, 3, 2.5, 2, 1.5, 1, 0.5),
                             se = c(5, 4, 4, 3, 2, 1, 0.5, 5, 
                             4, 4, 3, 2, 1))

## Global variable containing studies added by the user on top of current data
globals <- list(
    newdata=NULL,
    pool=0  # current pooled estimate: used for tilt angle
)
